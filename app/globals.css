@import "tailwindcss";

:root {
  --background: #eeeeec;
  --foreground: #191919;
  --card-active: rgba(59, 130, 246, 0.1);
  --card-light: #fafaf9;
  --card-dark: #292927;
  --card-tag: rgba(59, 130, 246, 1);
  --card-tag-text: #eeeeec;
  --card-upcoming: rgba(253, 153, 0, 0.03);
  --card-upcoming-dark: rgba(253, 153, 0, 0.15);
  --card-overdue: rgba(250, 43, 54, 0.03);
  --card-overdue-dark: rgba(250, 43, 54, 0.15);
  --card-highlight-light: #ebe7e4;
  --card-highlight-dark: #333330;
  --selected-background: #e0e0e0;
  --selected-foreground: #191919;
  --selected-active: rgba(59, 130, 246, 0.1);
  --theme-lightest: #fafaf9;
  --theme-lighter: #ebe7e4;
  --theme-light: #d4d1cc;
  --theme-medium: #8d8a85;
  --theme-dark: #585550;
  --theme-darker: #292927;
  --theme-darkest: #191919;

  /* -----------------------------
  PRIMARY (Filled)
  Suggested primary blue: oklch(60% 0.17 262)
  ----------------------------- */
  --btn-primary-bg: oklch(60% 0.17 262);
  --btn-primary-bg-hover: oklch(56% 0.17 262);
  --btn-primary-bg-active: oklch(52% 0.17 262);

  /* Text/icon color on primary */
  --btn-primary-fg: #fafaf9;

  /* Border (optional; keep subtle) */
  --btn-primary-border: rgba(25, 25, 25, 0.10);

  /* Focus ring (tie into your existing focus token) */
  --btn-primary-focus-ring: var(--focus-ring);

  /* Disabled */
  --btn-primary-bg-disabled: rgba(25, 25, 25, 0.08);
  --btn-primary-fg-disabled: rgba(25, 25, 25, 0.35);
  --btn-primary-border-disabled: rgba(25, 25, 25, 0.10);


  /* -----------------------------
  SECONDARY (Neutral / Outline)
  Use this for "Draft email", "Add action item", etc.
  (Donâ€™t use green for secondary actions.)
  ----------------------------- */
  --btn-secondary-bg: transparent;
  --btn-secondary-fg: var(--foreground);
  --btn-secondary-border: var(--border-strong);

  --btn-secondary-bg-hover: var(--surface-hover);
  --btn-secondary-bg-active: rgba(25, 25, 25, 0.10);
  --btn-secondary-fg-hover: var(--foreground);
  --btn-secondary-border-hover: var(--border-strong);

  --btn-secondary-focus-ring: var(--focus-ring);

  /* Disabled */
  --btn-secondary-bg-disabled: transparent;
  --btn-secondary-fg-disabled: rgba(25, 25, 25, 0.35);
  --btn-secondary-border-disabled: var(--border-subtle);

  /* SURFACES (semantic) */
  --surface-modal: var(--card-light);
  --surface-panel: var(--theme-lightest);
  --surface-bar: var(--theme-lighter);
  --surface-hover: rgba(25, 25, 25, 0.06);

  /* BORDERS / DIVIDERS */
  --border-subtle: rgba(25, 25, 25, 0.10);
  --border-strong: rgba(25, 25, 25, 0.18);
  --divider: rgba(25, 25, 25, 0.08);

  /* TEXT */
  --text-muted: var(--theme-dark);
  --text-faint: var(--theme-medium);

  /* LINKS (keep brand feel but reduce "neon") */
  --link: rgba(59, 130, 246, 0.95);
  --link-hover: rgba(59, 130, 246, 1);

  /* FOCUS */
  --focus-ring: rgba(59, 130, 246, 0.35);

  /* SHADOWS */
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.25);
  --shadow-menu: 0 10px 24px rgba(0, 0, 0, 0.22);

  /* STATUS CHIP BACKGROUNDS (use your existing card tints) */
  --chip-warning-bg: var(--card-upcoming-dark);
  --chip-danger-bg: var(--card-overdue-dark);
  --chip-neutral-bg: var(--card-highlight-light);

  /* CALENDAR EVENT COLORS */
  /* Base event surface (default / neutral event) */
  --calendar-event-bg: rgba(59, 130, 246, 0.08);
  --calendar-event-border: rgba(59, 130, 246, 0.18);
  --calendar-event-text: var(--foreground);

  /* Linked / CRM-significant events */
  --calendar-event-linked-bg: rgba(59, 130, 246, 0.12);
  --calendar-event-linked-border: rgba(59, 130, 246, 0.28);

  /* Touchpoints / follow-up driven events */
  --calendar-event-touchpoint-bg: rgba(253, 153, 0, 0.10);
  --calendar-event-touchpoint-border: rgba(253, 153, 0, 0.30);

  /* Blocks / personal / non-actionable events */
  --calendar-event-block-bg: rgba(25, 25, 25, 0.06);
  --calendar-event-block-border: rgba(25, 25, 25, 0.12);

  /* Overdue / needs-attention */
  --calendar-event-overdue-bg: rgba(250, 43, 54, 0.10);
  --calendar-event-overdue-border: rgba(250, 43, 54, 0.35);

  /* Interaction states */
  --calendar-event-hover-bg: rgba(59, 130, 246, 0.16);
  --calendar-event-selected-bg: rgba(59, 130, 246, 0.22);
  --calendar-event-selected-border: rgba(59, 130, 246, 0.50);
}

/* Dark theme via data attribute (manual override) */
[data-theme='dark'] {
  --background: #191919;
  --foreground: #eeeeec;
  --card-active: rgba(59, 130, 246, 0.1);
  --card-light: #292927;
  --card-dark: #fafaf9;
  --card-tag: rgba(59, 130, 246, 1);
  --card-tag-text: #eeeeec;
  --card-upcoming: rgba(253, 153, 0, 0.03);
  --card-upcoming-dark: rgba(253, 153, 0, 0.15);
  --card-overdue: rgba(250, 43, 54, 0.03);
  --card-overdue-dark: rgba(250, 43, 54, 0.15);
  --card-highlight-light: #333330;
  --card-highlight-dark: #ebe7e4;
  --selected-background: #333330;
  --selected-foreground: #fafaf9;
  --selected-active: rgba(59, 130, 246, 0.1);
  --theme-lightest: #191919;
  --theme-lighter: #292927;
  --theme-light: #585550;
  --theme-medium: #8d8a85;
  --theme-dark: #d4d1cc;
  --theme-darker: #ebe7e4;
  --theme-darkest: #fafaf9;

  /* PRIMARY (Filled) */
  --btn-primary-bg: oklch(62% 0.16 262);        /* tiny lift for dark mode legibility */
  --btn-primary-bg-hover: oklch(58% 0.16 262);
  --btn-primary-bg-active: oklch(54% 0.16 262);

  --btn-primary-fg: #0b0b0b;                    /* higher contrast vs bright primary */
  --btn-primary-border: rgba(255, 255, 255, 0.10);
  --btn-primary-focus-ring: var(--focus-ring);

  --btn-primary-bg-disabled: rgba(255, 255, 255, 0.10);
  --btn-primary-fg-disabled: rgba(238, 238, 236, 0.45);
  --btn-primary-border-disabled: rgba(255, 255, 255, 0.10);

  /* SECONDARY (Neutral / Outline) */
  --btn-secondary-bg: transparent;
  --btn-secondary-fg: var(--foreground);
  --btn-secondary-border: var(--border-strong);

  --btn-secondary-bg-hover: var(--surface-hover);
  --btn-secondary-bg-active: rgba(255, 255, 255, 0.10);
  --btn-secondary-fg-hover: var(--foreground);
  --btn-secondary-border-hover: var(--border-strong);

  --btn-secondary-focus-ring: var(--focus-ring);

  --btn-secondary-bg-disabled: transparent;
  --btn-secondary-fg-disabled: rgba(238, 238, 236, 0.40);
  --btn-secondary-border-disabled: var(--border-subtle);

  /* SURFACES */
  --surface-modal: var(--theme-lighter);
  --surface-panel: rgba(255, 255, 255, 0.04);
  --surface-bar: rgba(255, 255, 255, 0.06);
  --surface-hover: rgba(255, 255, 255, 0.06);

  /* BORDERS / DIVIDERS (IMPORTANT: softer in dark) */
  --border-subtle: rgba(255, 255, 255, 0.10);
  --border-strong: rgba(255, 255, 255, 0.16);
  --divider: rgba(255, 255, 255, 0.08);

  /* TEXT */
  --text-muted: rgba(238, 238, 236, 0.78);
  --text-faint: rgba(238, 238, 236, 0.62);

  /* LINKS (dim slightly in dark mode so they don't compete with CTAs) */
  --link: rgba(147, 197, 253, 0.92);
  --link-hover: rgba(147, 197, 253, 1);

  /* FOCUS */
  --focus-ring: rgba(59, 130, 246, 0.40);

  /* SHADOWS */
  --shadow-modal: 0 18px 52px rgba(0, 0, 0, 0.55);
  --shadow-menu: 0 12px 28px rgba(0, 0, 0, 0.60);

  /* STATUS CHIP BACKGROUNDS */
  --chip-warning-bg: var(--card-upcoming-dark);
  --chip-danger-bg: var(--card-overdue-dark);
  --chip-neutral-bg: var(--card-highlight-light);

  /* CALENDAR EVENT COLORS */
  /* Base event surface (default / neutral event) */
  --calendar-event-bg: rgba(147, 197, 253, 0.14);
  --calendar-event-border: rgba(147, 197, 253, 0.28);
  --calendar-event-text: var(--foreground);

  /* Linked / CRM-significant events */
  --calendar-event-linked-bg: rgba(147, 197, 253, 0.20);
  --calendar-event-linked-border: rgba(147, 197, 253, 0.36);

  /* Touchpoints / follow-up driven events */
  --calendar-event-touchpoint-bg: rgba(253, 153, 0, 0.18);
  --calendar-event-touchpoint-border: rgba(253, 153, 0, 0.40);

  /* Blocks / personal / non-actionable events */
  --calendar-event-block-bg: rgba(255, 255, 255, 0.08);
  --calendar-event-block-border: rgba(255, 255, 255, 0.14);

  /* Overdue / needs-attention */
  --calendar-event-overdue-bg: rgba(250, 43, 54, 0.18);
  --calendar-event-overdue-border: rgba(250, 43, 54, 0.45);

  /* Interaction states */
  --calendar-event-hover-bg: rgba(59, 130, 246, 0.16);
  --calendar-event-selected-bg: rgba(59, 130, 246, 0.22);
  --calendar-event-selected-border: rgba(59, 130, 246, 0.50);
}

/* Dark theme via browser preference (when no manual override) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #191919;
    --foreground: #eeeeec;
    --card-active: rgba(59, 130, 246, 0.1);
    --card-light: #292927;
    --card-dark: #fafaf9;
    --card-tag: rgba(59, 130, 246, 1);
    --card-tag-text: #eeeeec;
    --card-upcoming: rgba(253, 153, 0, 0.03);
    --card-upcoming-dark: rgba(253, 153, 0, 0.15);
    --card-overdue: rgba(250, 43, 54, 0.03);
    --card-overdue-dark: rgba(250, 43, 54, 0.15);
    --card-highlight-light: #333330;
    --card-highlight-dark: #ebe7e4;
    --selected-background: #333330;
    --selected-foreground: #fafaf9;
    --selected-active: rgba(59, 130, 246, 0.1);
    --theme-lightest: #191919;
    --theme-lighter: #292927;
    --theme-light: #585550;
    --theme-medium: #8d8a85;
    --theme-dark: #d4d1cc;
    --theme-darker: #ebe7e4;
    --theme-darkest: #fafaf9;
    /* PRIMARY (Filled) */
    --btn-primary-bg: oklch(62% 0.16 262);        /* tiny lift for dark mode legibility */
    --btn-primary-bg-hover: oklch(58% 0.16 262);
    --btn-primary-bg-active: oklch(54% 0.16 262);
  
    --btn-primary-fg: #0b0b0b;                    /* higher contrast vs bright primary */
    --btn-primary-border: rgba(255, 255, 255, 0.10);
    --btn-primary-focus-ring: var(--focus-ring);
  
    --btn-primary-bg-disabled: rgba(255, 255, 255, 0.10);
    --btn-primary-fg-disabled: rgba(238, 238, 236, 0.45);
    --btn-primary-border-disabled: rgba(255, 255, 255, 0.10);
  
    /* SECONDARY (Neutral / Outline) */
    --btn-secondary-bg: transparent;
    --btn-secondary-fg: var(--foreground);
    --btn-secondary-border: var(--border-strong);

    --btn-secondary-bg-hover: var(--surface-hover);
    --btn-secondary-bg-active: rgba(255, 255, 255, 0.10);
    --btn-secondary-fg-hover: var(--foreground);
    --btn-secondary-border-hover: var(--border-strong);

    --btn-secondary-focus-ring: var(--focus-ring);

    --btn-secondary-bg-disabled: transparent;
    --btn-secondary-fg-disabled: rgba(238, 238, 236, 0.40);
    --btn-secondary-border-disabled: var(--border-subtle);

    /* SURFACES */
    --surface-modal: var(--theme-lighter);
    --surface-panel: rgba(255, 255, 255, 0.04);
    --surface-bar: rgba(255, 255, 255, 0.06);
    --surface-hover: rgba(255, 255, 255, 0.06);

    /* BORDERS / DIVIDERS (IMPORTANT: softer in dark) */
    --border-subtle: rgba(255, 255, 255, 0.10);
    --border-strong: rgba(255, 255, 255, 0.16);
    --divider: rgba(255, 255, 255, 0.08);

    /* TEXT */
    --text-muted: rgba(238, 238, 236, 0.78);
    --text-faint: rgba(238, 238, 236, 0.62);

    /* LINKS (dim slightly in dark mode so they don't compete with CTAs) */
    --link: rgba(147, 197, 253, 0.92);
    --link-hover: rgba(147, 197, 253, 1);

    /* FOCUS */
    --focus-ring: rgba(59, 130, 246, 0.40);

    /* SHADOWS */
    --shadow-modal: 0 18px 52px rgba(0, 0, 0, 0.55);
    --shadow-menu: 0 12px 28px rgba(0, 0, 0, 0.60);

    /* STATUS CHIP BACKGROUNDS */
    --chip-warning-bg: var(--card-upcoming-dark);
    --chip-danger-bg: var(--card-overdue-dark);
    --chip-neutral-bg: var(--card-highlight-light);

    /* CALENDAR EVENT COLORS */
    /* Base event surface (default / neutral event) */
    --calendar-event-bg: rgba(147, 197, 253, 0.14);
    --calendar-event-border: rgba(147, 197, 253, 0.28);
    --calendar-event-text: var(--foreground);

    /* Linked / CRM-significant events */
    --calendar-event-linked-bg: rgba(147, 197, 253, 0.20);
    --calendar-event-linked-border: rgba(147, 197, 253, 0.36);

    /* Touchpoints / follow-up driven events */
    --calendar-event-touchpoint-bg: rgba(253, 153, 0, 0.18);
    --calendar-event-touchpoint-border: rgba(253, 153, 0, 0.40);

    /* Blocks / personal / non-actionable events */
    --calendar-event-block-bg: rgba(255, 255, 255, 0.08);
    --calendar-event-block-border: rgba(255, 255, 255, 0.14);

    /* Overdue / needs-attention */
    --calendar-event-overdue-bg: rgba(250, 43, 54, 0.18);
    --calendar-event-overdue-border: rgba(250, 43, 54, 0.45);

    /* Interaction states */
    --calendar-event-hover-bg: rgba(59, 130, 246, 0.16);
    --calendar-event-selected-bg: rgba(59, 130, 246, 0.22);
    --calendar-event-selected-border: rgba(59, 130, 246, 0.50);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card-active: var(--card-active);
  --color-card-light: var(--card-light);
  --color-card-dark: var(--card-dark);
  --color-card-tag: var(--card-tag);
  --color-card-tag-text: var(--card-tag-text);
  --color-card-upcoming: var(--card-upcoming);
  --color-card-upcoming-dark: var(--card-upcoming-dark);
  --color-card-overdue: var(--card-overdue);
  --color-card-overdue-dark: var(--card-overdue-dark);
  --color-card-highlight-light: var(--card-highlight-light);
  --color-card-highlight-dark: var(--card-highlight-dark);
  --color-theme-lightest: var(--theme-lightest);
  --color-selected-background: var(--selected-background);
  --color-selected-foreground: var(--selected-foreground);
  --color-selected-active: var(--selected-active);
  --color-theme-lighter: var(--theme-lighter);
  --color-theme-light: var(--theme-light);
  --color-theme-medium: var(--theme-medium);
  --color-theme-dark: var(--theme-dark);
  --color-theme-darker: var(--theme-darker);
  --color-theme-darkest: var(--theme-darkest);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  --color-btn-primary-bg: var(--btn-primary-bg);
  --color-btn-primary-fg: var(--btn-primary-fg);
  --color-btn-primary-border: var(--btn-primary-border);
  --color-btn-primary-bg-hover: var(--btn-primary-bg-hover);
  --color-btn-primary-bg-active: var(--btn-primary-bg-active);
  --color-btn-primary-focus-ring: var(--btn-primary-focus-ring);
  --color-btn-primary-bg-disabled: var(--btn-primary-bg-disabled);
  --color-btn-primary-fg-disabled: var(--btn-primary-fg-disabled);
  --color-btn-primary-border-disabled: var(--btn-primary-border-disabled);
  --color-btn-secondary-bg: var(--btn-secondary-bg);
  --color-btn-secondary-fg: var(--btn-secondary-fg);
  --color-btn-secondary-border: var(--btn-secondary-border);
  --color-btn-secondary-bg-hover: var(--btn-secondary-bg-hover);
  --color-btn-secondary-bg-active: var(--btn-secondary-bg-active);
  --color-btn-secondary-fg-hover: var(--btn-secondary-fg-hover);
  --color-btn-secondary-border-hover: var(--btn-secondary-border-hover);
  --color-btn-secondary-focus-ring: var(--btn-secondary-focus-ring);
  --color-btn-secondary-bg-disabled: var(--btn-secondary-bg-disabled);
  --color-btn-secondary-fg-disabled: var(--btn-secondary-fg-disabled);
  --color-btn-secondary-border-disabled: var(--btn-secondary-border-disabled);
}

html {
  height: 100%;
  margin: 0;
  padding: 0;
  background: #ffffff;
}

body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
  overflow: hidden;
}

@keyframes progress-bar-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

.animate-progress-bar {
  position: relative;
  overflow: hidden;
}

.animate-progress-bar::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: progress-bar-shimmer 1.5s ease-in-out infinite;
}

/* Style the calendar picker icon to match theme colors */
input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  /* Use theme-darkest color for light mode - native icon is black, so we keep it */
  filter: brightness(0) saturate(100%) invert(0%);
  opacity: 0.7;
  transition: all 0.2s ease;
  padding: 0.25rem;
  border-radius: 0.25rem;
}

/* Dark theme adjustments for calendar icon */
[data-theme='dark'] input[type="date"]::-webkit-calendar-picker-indicator {
  /* In dark mode, invert to make icon light (theme-darkest in dark = light color) */
  filter: brightness(0) saturate(100%) invert(100%);
  opacity: 0.8;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) input[type="date"]::-webkit-calendar-picker-indicator {
    filter: brightness(0) saturate(100%) invert(100%);
    opacity: 0.8;
  }
  
  :root:not([data-theme]) input[type="date"]::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
    background-color: var(--theme-medium);
    filter: brightness(0) saturate(100%) invert(100%);
  }
}

/* Style date input text parts */
input[type="date"]::-webkit-datetime-edit-text {
  color: var(--foreground);
  padding: 0 0.25em;
}

input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  color: var(--foreground);
  padding: 0 0.25em;
}

input[type="date"]::-webkit-datetime-edit-month-field:focus,
input[type="date"]::-webkit-datetime-edit-day-field:focus,
input[type="date"]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--theme-light);
  color: var(--foreground);
  border-radius: 0.25rem;
}

/* Firefox date input styling */
input[type="date"] {
  color-scheme: light;
}

[data-theme='dark'] input[type="date"] {
  color-scheme: dark;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) input[type="date"] {
    color-scheme: dark;
  }
}
